/**
 * AWSM Markdown Renderer - Code Highlight Styles
 * 
 * This CSS file provides syntax highlighting for code blocks rendered by
 * awsm-markdown-renderer. It uses CSS variables for easy customization.
 * 
 * Usage:
 *   import '@y1feng200156/awsm-markdown-renderer/code-highlight.css';
 * 
 * Or copy the CSS variables to your own stylesheet and customize them.
 */

/* ============================================
   CSS Variables - Customize Your Theme
   ============================================ */
:root {
  /* Code Block Container - Light Theme (Default) */
  --awsm-code-bg: #f6f8fa;
  --awsm-code-fg: #24292e;
  --awsm-code-border: #e1e4e8;
  --awsm-code-border-radius: 8px;
  --awsm-code-padding: 1rem;
  --awsm-code-font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
  --awsm-code-font-size: 0.875rem;
  --awsm-code-line-height: 1.6;

  /* Syntax Highlighting Colors - Light Theme */
  /* General */
  --awsm-syntax-text: #24292e;
  --awsm-syntax-comment: #6a737d;
  --awsm-syntax-keyword: #d73a49;
  --awsm-syntax-string: #032f62;
  --awsm-syntax-number: #005cc5;
  --awsm-syntax-function: #6f42c1;
  --awsm-syntax-variable: #e36209;
  --awsm-syntax-type: #005cc5;
  --awsm-syntax-operator: #d73a49;
  --awsm-syntax-punctuation: #24292e;
  --awsm-syntax-constant: #005cc5;
  --awsm-syntax-tag: #22863a;
  --awsm-syntax-attribute: #6f42c1;
  
  /* Specific Language Support */
  --awsm-syntax-storage: #d73a49;
  --awsm-syntax-entity: #6f42c1;
  --awsm-syntax-support: #005cc5;
  --awsm-syntax-meta: #24292e;
  --awsm-syntax-invalid: #cb2431;

  /* Diff Colors */
  --awsm-diff-inserted-fg: #22863a;
  --awsm-diff-inserted-bg: rgba(34, 134, 58, 0.15);
  --awsm-diff-deleted-fg: #d73a49;
  --awsm-diff-deleted-bg: rgba(215, 58, 73, 0.15);
  --awsm-diff-changed-fg: #e36209;
  --awsm-diff-changed-bg: rgba(227, 98, 9, 0.15);
}

/* ============================================
   Dark Theme (Optional)
   ============================================ */
[data-theme="dark"],
.dark-theme {
  --awsm-code-bg: #1e1e1e;
  --awsm-code-fg: #d4d4d4;
  --awsm-code-border: #3e3e3e;
  
  --awsm-syntax-text: #d4d4d4;
  --awsm-syntax-comment: #6a9955;
  --awsm-syntax-keyword: #569cd6;
  --awsm-syntax-string: #ce9178;
  --awsm-syntax-number: #b5cea8;
  --awsm-syntax-function: #dcdcaa;
  --awsm-syntax-variable: #9cdcfe;
  --awsm-syntax-type: #4ec9b0;
  --awsm-syntax-operator: #d4d4d4;
  --awsm-syntax-punctuation: #d4d4d4;
  --awsm-syntax-constant: #4fc1ff;
  --awsm-syntax-tag: #569cd6;
  --awsm-syntax-attribute: #9cdcfe;
  
  --awsm-syntax-storage: #569cd6;
  --awsm-syntax-entity: #4ec9b0;
  --awsm-syntax-support: #dcdcaa;
  --awsm-syntax-meta: #d4d4d4;
  --awsm-syntax-invalid: #f44747;

  /* Diff Colors */
  --awsm-diff-inserted-fg: #28a745;
  --awsm-diff-inserted-bg: rgba(40, 167, 69, 0.2);
  --awsm-diff-deleted-fg: #f85149;
  --awsm-diff-deleted-bg: rgba(248, 81, 73, 0.2);
  --awsm-diff-changed-fg: #ffa657;
  --awsm-diff-changed-bg: rgba(255, 166, 87, 0.2);
}

/* ============================================
   Code Block Base Styles
   ============================================ */
pre:has(> code) {
  background-color: var(--awsm-code-bg);
  border: 1px solid var(--awsm-code-border);
  border-radius: var(--awsm-code-border-radius);
  padding: var(--awsm-code-padding);
  overflow-x: auto;
  margin: 1rem 0;
}

pre > code {
  font-family: var(--awsm-code-font-family);
  font-size: var(--awsm-code-font-size);
  line-height: var(--awsm-code-line-height);
  color: var(--awsm-code-fg);
  background: transparent;
  padding: 0;
  border: none;
  display: block;
}

/* Inline code (not in pre) */
:not(pre) > code {
  font-family: var(--awsm-code-font-family);
  font-size: 0.85em;
  background-color: var(--awsm-code-bg);
  color: var(--awsm-code-fg);
  padding: 0.2em 0.4em;
  border-radius: 4px;
  border: 1px solid var(--awsm-code-border);
}

/* ============================================
   Syntax Highlighting Classes
   Generated by syntect with ClassStyle::Spaced
   ============================================ */

/* Source & Base */
.source,
.text {
  color: var(--awsm-syntax-text);
}

/* Comments */
.comment {
  color: var(--awsm-syntax-comment);
  font-style: italic;
}

/* Keywords */
.keyword {
  color: var(--awsm-syntax-keyword);
}

.keyword.control {
  color: var(--awsm-syntax-keyword);
}

.keyword.operator {
  color: var(--awsm-syntax-operator);
}

.keyword.other {
  color: var(--awsm-syntax-keyword);
}

/* Storage (const, let, var, etc.) */
.storage {
  color: var(--awsm-syntax-storage);
}

.storage.type {
  color: var(--awsm-syntax-type);
}

.storage.modifier {
  color: var(--awsm-syntax-keyword);
}

/* Strings */
.string {
  color: var(--awsm-syntax-string);
}

.string.quoted {
  color: var(--awsm-syntax-string);
}

.string.regexp {
  color: var(--awsm-syntax-string);
}

.string.interpolated {
  color: var(--awsm-syntax-string);
}

/* Numbers */
.constant.numeric {
  color: var(--awsm-syntax-number);
}

/* Functions */
.entity.name.function {
  color: var(--awsm-syntax-function);
}

.support.function {
  color: var(--awsm-syntax-support);
}

.meta.function {
  color: var(--awsm-syntax-meta);
}

/* Variables */
.variable {
  color: var(--awsm-syntax-variable);
}

.variable.other {
  color: var(--awsm-syntax-variable);
}

.variable.parameter {
  color: var(--awsm-syntax-variable);
}

/* Types & Classes */
.entity.name.type,
.entity.name.class {
  color: var(--awsm-syntax-type);
}

.support.type,
.support.class {
  color: var(--awsm-syntax-type);
}

/* Constants */
.constant {
  color: var(--awsm-syntax-constant);
}

.constant.language {
  color: var(--awsm-syntax-constant);
}

.constant.other {
  color: var(--awsm-syntax-constant);
}

/* Tags (HTML/XML) */
.entity.name.tag {
  color: var(--awsm-syntax-tag);
}

/* Attributes */
.entity.other.attribute-name {
  color: var(--awsm-syntax-attribute);
}

/* Punctuation */
.punctuation {
  color: var(--awsm-syntax-punctuation);
}

.punctuation.definition {
  color: var(--awsm-syntax-punctuation);
}

.punctuation.section {
  color: var(--awsm-syntax-punctuation);
}

.punctuation.separator {
  color: var(--awsm-syntax-punctuation);
}

.punctuation.terminator {
  color: var(--awsm-syntax-punctuation);
}

/* Operators */
.operator {
  color: var(--awsm-syntax-operator);
}

/* Invalid/Error */
.invalid {
  color: var(--awsm-syntax-invalid);
  text-decoration: underline;
}

/* ============================================
   Language-Specific Styles
   ============================================ */

/* Markdown */
.markdown .markup.heading {
  color: var(--awsm-syntax-keyword);
  font-weight: bold;
}

.markdown .markup.bold {
  font-weight: bold;
}

.markdown .markup.italic {
  font-style: italic;
}

.markdown .markup.list {
  color: var(--awsm-syntax-keyword);
}

.markdown .markup.raw {
  background-color: rgba(128, 128, 128, 0.1);
  padding: 0.1em 0.3em;
  border-radius: 3px;
}

.markdown .markup.link {
  color: var(--awsm-syntax-constant);
  text-decoration: underline;
}

/* CSS/SCSS */
.css .support.property-name,
.scss .support.property-name {
  color: var(--awsm-syntax-variable);
}

.css .support.constant,
.scss .support.constant {
  color: var(--awsm-syntax-constant);
}

/* JSON */
.json .support.dictionary.key {
  color: var(--awsm-syntax-attribute);
}

/* Diff */
.diff .markup.inserted {
  color: var(--awsm-diff-inserted-fg);
  background-color: var(--awsm-diff-inserted-bg);
}

.diff .markup.deleted {
  color: var(--awsm-diff-deleted-fg);
  background-color: var(--awsm-diff-deleted-bg);
}

.diff .markup.changed {
  color: var(--awsm-diff-changed-fg);
  background-color: var(--awsm-diff-changed-bg);
}

/* ============================================
   Math Rendering Styles
   ============================================ */
math {
  font-family: 'Cambria Math', 'Latin Modern Math', 'STIX Two Math', serif;
}

.math-error {
  color: var(--awsm-syntax-invalid);
  background-color: rgba(244, 71, 71, 0.1);
  padding: 0.1em 0.3em;
  border-radius: 3px;
}

/* ============================================
   Copy Button (Optional Enhancement)
   ============================================ */
.awsm-code-block {
  position: relative;
}

.awsm-code-block .copy-button {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  padding: 0.25rem 0.5rem;
  background-color: var(--awsm-code-bg);
  border: 1px solid var(--awsm-code-border);
  border-radius: 4px;
  color: var(--awsm-code-fg);
  font-size: 0.75rem;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.2s;
}

.awsm-code-block:hover .copy-button {
  opacity: 1;
}

.awsm-code-block .copy-button:hover {
  background-color: var(--awsm-code-border);
}
